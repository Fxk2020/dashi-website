---
import { Image } from 'astro:assets';
import BaseHead from '../../components/BaseHead.astro';
import Footer from '../../components/Footer.astro';
import Header from '../../components/Header.astro';
import { SITE_DESCRIPTION, SITE_TITLE } from '../../consts';
import defaultProjectImage from '../../assets/blog-placeholder-1.jpg';

// Define external projects and blogs
const externalProjects = [
	{
		title: 'Traffic Flow Prediction Based on Urban Networks',
		description: 'Traffic flow prediction based on urban networks, using LSTM neural network model for time series forecasting to improve urban traffic management efficiency.',
		url: 'https://github.com/Fxk2020/TrafficFlowForecast',
		tags: ['LSTM', 'Traffic Prediction', 'Python'],
		year: 2021,
		image: defaultProjectImage,
	},
];

const externalBlogs = [
	{
		title: 'Shandong University Blockchain Final Exam 2021',
		description: 'Records of Shandong University Software College blockchain exam questions from 2021',
		url: 'https://github.com/yourusername/project1',
		tags: ['Blockchain', 'Exam'],
		year: 2021,
	},
	{
		title: 'Complete Guide to Connecting MySQL Database in Qt',
		description: 'This article provides a detailed introduction to two methods of connecting MySQL database in Qt: using MySQL driver directly and connecting through ODBC. Solutions for MySQL driver missing issues are provided, and demonstrates how to successfully connect MySQL through ODBC.',
		url: 'https://blog.csdn.net/joey_ro/article/details/105411135?spm=1001.2014.3001.5502',
		platform: 'CSDN',
		date: 'Apr 2020',
	},
];
---

<!doctype html>
<html lang="en">
	<head>
		<BaseHead title={`Projects - ${SITE_TITLE}`} description={SITE_DESCRIPTION} />
		<style>
			.projects-container {
				max-width: 1200px;
				margin: 0 auto;
				padding: 2rem 1rem;
			}

			.page-title {
				font-size: 2.5rem;
				color: rgb(var(--black));
				margin-bottom: 1rem;
				text-align: center;
			}

			.page-description {
				text-align: center;
				color: rgb(var(--gray));
				margin-bottom: 3rem;
				font-size: 1.1rem;
			}

			.section {
				margin-bottom: 4rem;
			}

			.section-title {
				font-size: 2rem;
				color: rgb(var(--black));
				margin-bottom: 2rem;
				padding-bottom: 0.5rem;
				border-bottom: 2px solid rgb(var(--gray-light));
			}

			.projects-grid {
				display: grid;
				grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
				gap: 2rem;
			}

			.project-card {
				background: white;
				border: 1px solid rgb(var(--gray-light));
				border-radius: 12px;
				overflow: hidden;
				transition: all 0.3s ease;
				box-shadow: 0 2px 8px rgba(var(--gray), 10%);
				display: flex;
				flex-direction: column;
			}

			.project-card:hover {
				transform: translateY(-4px);
				box-shadow: var(--box-shadow);
			}

			.project-image {
				width: 100%;
				height: 200px;
				object-fit: cover;
				border-bottom: 1px solid rgb(var(--gray-light));
			}

			.project-content {
				padding: 1.5rem;
				flex: 1;
				display: flex;
				flex-direction: column;
			}

			.project-header {
				display: flex;
				justify-content: space-between;
				align-items: center;
				margin-bottom: 1rem;
			}

			.project-year {
				display: inline-block;
				padding: 0.25rem 0.75rem;
				background: rgb(var(--gray-light));
				color: rgb(var(--gray));
				border-radius: 4px;
				font-size: 0.85rem;
			}

			.project-title {
				font-size: 1.5rem;
				margin: 0 0 1rem 0;
			}

			.project-title a {
				color: rgb(var(--black));
				text-decoration: none;
				transition: color 0.2s ease;
			}

			.project-title a:hover {
				color: var(--accent);
			}

			.project-description {
				color: rgb(var(--gray-dark));
				margin-bottom: 1rem;
				line-height: 1.6;
				flex: 1;
			}

			.project-tags {
				display: flex;
				flex-wrap: wrap;
				gap: 0.5rem;
				margin-top: auto;
			}

			.tag {
				display: inline-block;
				padding: 0.25rem 0.75rem;
				background: rgb(var(--gray-light));
				color: var(--accent);
				border-radius: 4px;
				font-size: 0.85rem;
			}

			.blog-list {
				display: flex;
				flex-direction: column;
				gap: 1.5rem;
			}

			.blog-card {
				background: white;
				border: 1px solid rgb(var(--gray-light));
				border-radius: 12px;
				padding: 1.5rem;
				transition: all 0.3s ease;
				display: flex;
				justify-content: space-between;
				align-items: flex-start;
				box-shadow: 0 2px 8px rgba(var(--gray), 10%);
			}

			.blog-card:hover {
				transform: translateX(4px);
				box-shadow: var(--box-shadow);
			}

			.blog-content {
				flex: 1;
			}

			.blog-meta {
				display: flex;
				align-items: center;
				gap: 1rem;
				margin-bottom: 0.75rem;
			}

			.blog-platform {
				display: inline-block;
				padding: 0.25rem 0.75rem;
				background: var(--accent);
				color: white;
				border-radius: 4px;
				font-size: 0.85rem;
			}

			.blog-date {
				color: rgb(var(--gray));
				font-size: 0.9rem;
			}

			.blog-title {
				font-size: 1.25rem;
				margin: 0.5rem 0;
			}

			.blog-title a {
				color: rgb(var(--black));
				text-decoration: none;
				transition: color 0.2s ease;
			}

			.blog-title a:hover {
				color: var(--accent);
			}

			.blog-description {
				color: rgb(var(--gray-dark));
				line-height: 1.6;
			}

			.blog-tags {
				display: flex;
				flex-wrap: wrap;
				gap: 0.5rem;
				margin-top: 0.75rem;
			}

			.external-link-icon {
				color: rgb(var(--gray));
				font-size: 1.5rem;
				transition: color 0.2s ease;
			}

			.blog-card:hover .external-link-icon,
			.project-card:hover .external-link-icon {
				color: var(--accent);
			}

			@media (max-width: 768px) {
				.projects-grid {
					grid-template-columns: 1fr;
				}

				.page-title {
					font-size: 2rem;
				}
			}
		</style>
	</head>
	<body>
		<Header />
		<div class="projects-container">
			<h1 class="page-title">Projects & External Content</h1>
			<p class="page-description">
				Explore my open source projects, contributions, and articles published on various platforms
			</p>

			<section class="section">
				<h2 class="section-title">Open Source Projects</h2>
				<div class="projects-grid">
					{
						externalProjects.map((project) => (
							<article class="project-card">
								<Image
									src={project.image}
									alt={project.title}
									width={400}
									height={200}
									class="project-image"
								/>
								<div class="project-content">
									<div class="project-header">
										<span class="project-year">{project.year}</span>
									</div>
									<h3 class="project-title">
										<a href={project.url} target="_blank" rel="noopener noreferrer">
											{project.title}
										</a>
									</h3>
									<p class="project-description">{project.description}</p>
									<div class="project-tags">
										{project.tags.map((tag) => (
											<span class="tag">{tag}</span>
										))}
									</div>
								</div>
							</article>
						))
					}
				</div>
			</section>

			<section class="section">
				<h2 class="section-title">External Blog Posts</h2>
				<div class="blog-list">
					{
						externalBlogs.map((blog) => (
							<article class="blog-card">
								<div class="blog-content">
									<div class="blog-meta">
										<span class="blog-platform">{blog.platform}</span>
										<span class="blog-date">{blog.date}</span>
									</div>
									<h3 class="blog-title">
										<a href={blog.url} target="_blank" rel="noopener noreferrer">
											{blog.title}
										</a>
									</h3>
									<p class="blog-description">{blog.description}</p>
									{blog.tags && (
										<div class="blog-tags">
											{blog.tags.map((tag) => (
												<span class="tag">{tag}</span>
											))}
										</div>
									)}
								</div>
								<span class="external-link-icon">â†—</span>
							</article>
						))
					}
				</div>
			</section>
		</div>
		<Footer />
	</body>
</html>
